<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Rock, Paper, Scissors</title>
</head>
<body> 
<script>
// this whole project will be completed within the console. 

let playerScore; //will hold player's score - number value. 
let computerScore; //will hold computer's score - number value
let result; // win, loss or tie
let round; //begins at 1, w/ newGame(), increases after each round until 5. 
let playerSelection; //defined by getPlayerSelection
let computerSelection; //defined by computerSelection

function newGame() {
    playerScore = 0;
    computerScore = 0;
    result = undefined;
    round = 1
    console.log("New game.")
}

function displayScore() { //displays the current score. 
    console.log("Score: Player: " + playerScore + " - Computer: " + computerScore + ".");
}

function scoreKeeper() { //makes user or PC score go up depending on result. Ties are currently worth 0 points but tie rounds are not redone. 
    if (result == "win") {
        playerScore ++;
    } else if (result == "lose") {
        computerScore ++;     
    }
}

function getComputerChoice() { //selects rock, paper or scissors for computer each time it is invoked 
    const choiceOptions = ["rock", "paper", "scissors"]; //array of 3 options
    const computerChoice = Math.floor(Math.random() * choiceOptions.length); //selects one of the 3 options at random
    return choiceOptions[computerChoice];
}

function getPlayerSelection() {
    return prompt("Rock, paper, scissors?")
    }


function playRound(playerSelection, computerSelection) {
    console.log("Round " + round + ".")
    playerSelection = getPlayerSelection();
    const choice = playerSelection.toLowerCase();
    console.log("You have selected " + choice + ".");
    computerSelection = getComputerChoice();
    console.log("Computer has selected " + computerSelection + ".");
    if (choice == computerSelection) {
        result = "tie";
        console.log("Tie game!")
    } else if (choice == "rock" && computerSelection == "scissors") {
        result = "win";
        console.log("You won! Rock beats scissors!")
    } else if (choice == "rock" && computerSelection == "paper") {
        result = "lose";
        console.log("You lost Paper beats rock!")
    } else if (choice == "paper" && computerSelection == "rock") {
        result = "win";
        console.log("You won! Paper beats rock!")
    } else if (choice == "paper" && computerSelection == "scissors") {
        result = "lose";
        console.log("You lost! Scissors beat paper!") 
    } else if (choice == "scissors" && computerSelection == "paper") {
        result = "win";
        console.log("You won! Scissors beat paper!")
    } else if (choice == "scissors" && computerSelection == "rock") {
        result = "lose";
        console.log("You lost! Rock beats scissors!") 
    }
    scoreKeeper();
    displayScore();
    round++;
}

// if choice =/ rock, paper or scissors, activate prompt "You can only select rock paper or scissors. Please type the word correctly to try again."


function finalResult() {
    if (playerScore > computerScore) {
        console.log("Winner!");
    } else if (playerScore < computerScore) {
        console.log("Better luck next time - hit refresh to try again."); 
    } else if (playerScore == computerScore) {
        console.log("Unlucky - no winner here. Hit refresh to try again.")
    }
}

function game() {
    newGame();
    displayScore();
    for(let i = 0; i < 5; i++ ) { 
    playRound(playerSelection, computerSelection);
    }
    finalResult();
 
}

console.log(game())
</script>
</body>
